"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[543],{1180:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-4"},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{outlined:"",disabled:"",label:"รหัสสมาชิก"},model:{value:e.user.id,callback:function(t){e.$set(e.user,"id",t)},expression:"user.id"}}),r("v-text-field",{attrs:{outlined:"",disabled:"",label:"ชื่อสมาชิก"},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}}),r("v-text-field",{attrs:{outlined:"",disabled:"",label:"สถานภาพ"},model:{value:e.user.job,callback:function(t){e.$set(e.user,"job",t)},expression:"user.job"}}),r("v-text-field",{attrs:{outlined:"",disabled:"",label:"สิทธิการยืม (หนังสือ)"},model:{value:e.rate.book,callback:function(t){e.$set(e.rate,"book",t)},expression:"rate.book"}}),r("v-text-field",{attrs:{outlined:"",disabled:"",label:"สิทธิการยืม (ซีดี)"},model:{value:e.rate.cd,callback:function(t){e.$set(e.rate,"cd",t)},expression:"rate.cd"}}),r("v-text-field",{attrs:{outlined:"",disabled:"",label:"สิทธิการยืม (หนังสือจอง)"},model:{value:e.rate.reservedBook,callback:function(t){e.$set(e.rate,"reservedBook",t)},expression:"rate.reservedBook"}})],1),r("v-col",{staticClass:"justify-center",attrs:{cols:"6"}},[r("v-img",{attrs:{src:e.pictureUrl,"max-width":"250",contain:""}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-data-table",{attrs:{headers:e.headers,items:e.transactions,"items-per-page":5}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"3"}},[r("b",[e._v("หนังสือ")]),r("v-text-field",{attrs:{disabled:"",label:"สิทธิการยืม"},model:{value:e.rate.book,callback:function(t){e.$set(e.rate,"book",t)},expression:"rate.book"}}),r("v-text-field",{attrs:{disabled:"",label:"จำนวนที่ยืม"},model:{value:e.borrowed.book,callback:function(t){e.$set(e.borrowed,"book",t)},expression:"borrowed.book"}}),r("v-text-field",{attrs:{disabled:"",label:"คงเหลือ"},model:{value:e.remain.book,callback:function(t){e.$set(e.remain,"book",t)},expression:"remain.book"}})],1),r("v-col",{attrs:{cols:"3"}},[r("b",[e._v("ซีดี")]),r("v-text-field",{attrs:{disabled:"",label:"สิทธิการยืม"},model:{value:e.rate.cd,callback:function(t){e.$set(e.rate,"cd",t)},expression:"rate.cd"}}),r("v-text-field",{attrs:{disabled:"",label:"จำนวนที่ยืม"},model:{value:e.borrowed.cd,callback:function(t){e.$set(e.borrowed,"cd",t)},expression:"borrowed.cd"}}),r("v-text-field",{attrs:{disabled:"",label:"คงเหลือ"},model:{value:e.remain.cd,callback:function(t){e.$set(e.remain,"cd",t)},expression:"remain.cd"}})],1),r("v-col",{attrs:{cols:"3"}},[r("b",[e._v("หนังสือจอง")]),r("v-text-field",{attrs:{disabled:"",label:"สิทธิการยืม"},model:{value:e.rate.reservedBook,callback:function(t){e.$set(e.rate,"reservedBook",t)},expression:"rate.reservedBook"}}),r("v-text-field",{attrs:{disabled:"",label:"จำนวนที่ยืม"},model:{value:e.borrowed.reservedBook,callback:function(t){e.$set(e.borrowed,"reservedBook",t)},expression:"borrowed.reservedBook"}}),r("v-text-field",{attrs:{disabled:"",label:"คงเหลือ"},model:{value:e.remain.reservedBook,callback:function(t){e.$set(e.remain,"reservedBook",t)},expression:"remain.reservedBook"}})],1)],1)],1)},s=[],o=r(6393),l=r.n(o),d=(e,t,r)=>new Promise(((a,s)=>{var o=e=>{try{d(r.next(e))}catch(t){s(t)}},l=e=>{try{d(r.throw(e))}catch(t){s(t)}},d=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,l);d((r=r.apply(e,t)).next())})),i={data:()=>({rate:null,pictureUrl:null,headers:[{text:"เลขทะเบียน",sortable:!1,align:"start",value:"_id"},{text:"วันยืม",value:"start_date",sortable:!1},{text:"กำหนดส่ง",value:"end_date",sortable:!1}]}),computed:{user(){return this.$store.getters["me/GET_USER"]},transactions(){return this.$store.state.transaction.transactions.map((e=>(e.start_date=l()(e.start_date).format("YYYY-MM-DD"),e.end_date=l()(e.end_date).format("YYYY-MM-DD"),e)))},borrowed(){return console.log(this.$store.state.me.borrowed),this.$store.state.me.borrowed},remain(){return console.log(this.$store.state.me.remain),this.$store.state.me.remain}},created(){return d(this,null,(function*(){const e=this.$store.state.me.job;console.log("JOB",e);const t=yield this.$store.dispatch("transaction/rate",e);this.rate=t,this.pictureUrl=this.$store.getters["me/GET_PICTURE_URL"],yield this.$store.dispatch("transaction/fetchHistoryTransactions"),yield this.$store.dispatch("me/fetchBorrowCount")}))}},n=i,c=r(1001),b=r(3453),u=r.n(b),v=r(8154),m=r(5051),f=r(6134),k=r(7714),x=r(8488),h=(0,c.Z)(n,a,s,!1,null,null,null),p=h.exports;u()(h,{VCol:v.Z,VDataTable:m.Z,VImg:f.Z,VRow:k.Z,VTextField:x.Z})}}]);
//# sourceMappingURL=543.4f4964bb.js.map